# Project Files

Folders contain the following:
- data: input and output files for the analysis
- GrassLocation(generated by you): the GrassLocation for Stuttgart
- scripts: scripts to automate the analysis
- webapp: healthy routing webapp

## Getting started

_You might have to do step 3-5 outside of the grass shell._

1. Start a Grass session using the GrassLocation folder as Location.
(Alternatively Create a new Location called GrassLocation with name Stuttgart as UTM 32N WGS84)
2. Copy lubw.csv lubw.geojson luftdaten.csv luftdaten.geojson to the data folder
3. Install [NodeJS](https://nodejs.org/en/)
4. Run `npm -i -g osmtogeojson` to install conversion command line tool.
5. Run `scripts/download_osm_data.py` in a __Python 3__ environment with installed request library.
(5.1 Start PyCharm or your favorite Python IDE from the Grass Terminal for full command support)
6. Run `scripts/setup.py` to initialize the project.
7. Run `scripts/inter`

## Overpass Queries

If you are having trouble to downloading the osm data run the following query on overpass-turbo.eu
and export it as geojson:

stuttgart_districts.geojson:
```
(
relation
  ["boundary"="administrative"]
  ["admin_level"=9]
  ["name"~"Stuttgart-Süd|Stuttgart-Ost|Stuttgart-West|Stuttgart-Nord|Stuttgart-Mitte|Feuerbach|Botnang|Bad Cannstatt|Hedelfingen|Wangen|Münster"]
  (48.750077, 9.111614,48.823706, 9.268856);
);
(._;>;);
out;
```
__The geojson contains both 'fixme' and 'FIXME' properties. 'fixme' was replaced by 'FIXME'__
__to avoid duplicate table names which crashes the import into the Grass DB__.
